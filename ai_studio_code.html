<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spin Wheel Tools</title>
    <!-- Tailwind CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts CDN -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-light: #f3f4f6;
            --text-light: #1f2937;
            --primary-light: #3b82f6;
            --card-bg-light: #ffffff;
            --border-light: #e5e7eb;

            --bg-dark: #1a202c;
            --text-dark: #e2e8f0;
            --primary-dark: #6366f1;
            --card-bg-dark: #2d3748;
            --border-dark: #4a5568;
        }

        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
        }
        .dark {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }
        .light {
            background-color: var(--bg-light);
            color: var(--text-light);
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Orbitron', sans-serif;
        }

        /* Preloader */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-dark); /* Dark background for preloader */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }
        .spinner {
            border: 8px solid rgba(255, 255, 255, 0.1);
            border-top: 8px solid var(--primary-dark);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .preloader-hidden {
            opacity: 0;
            visibility: hidden;
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border-radius: 10px;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .dark .glass-card {
            background: rgba(45, 55, 72, 0.4); /* Darker glass effect */
            border: 1px solid rgba(74, 85, 104, 0.5);
        }
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.5);
        }

        /* Flip Card for Tools Gallery */
        .flip-card {
            background-color: transparent;
            width: 300px;
            height: 200px;
            perspective: 1000px; /* 3D effect */
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            border-radius: 10px;
        }
        .dark .flip-card-inner {
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.5);
        }

        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }

        .flip-card-front {
            background-color: var(--card-bg-light);
            color: var(--text-light);
        }
        .dark .flip-card-front {
            background-color: var(--card-bg-dark);
            color: var(--text-dark);
        }

        .flip-card-back {
            background-color: var(--primary-light);
            color: white;
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .dark .flip-card-back {
            background-color: var(--primary-dark);
        }

        /* Neon Glow Effect */
        .neon-glow {
            text-shadow: 0 0 5px var(--primary-light), 0 0 10px var(--primary-light), 0 0 15px var(--primary-light), 0 0 20px var(--primary-light);
        }
        .dark .neon-glow {
            text-shadow: 0 0 5px var(--primary-dark), 0 0 10px var(--primary-dark), 0 0 15px var(--primary-dark), 0 0 20px var(--primary-dark);
        }

        /* Custom Scrollbar for Modals */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: var(--bg-light);
            border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--primary-light);
            border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--primary-dark);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: var(--primary-light);
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* Animations for wheel and confetti (simplified) */
        .spinning {
            animation: spin-wheel 5s cubic-bezier(0.17, 0.84, 0.44, 1) forwards; /* Example */
        }
        @keyframes spin-wheel {
            from { transform: rotate(0deg); }
            to { transform: rotate(3600deg); } /* 10 full rotations */
        }
    </style>
</head>
<body class="antialiased light">

    <!-- Preloader -->
    <div id="preloader">
        <div class="spinner"></div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="min-h-screen flex flex-col pt-16">
        <!-- Header -->
        <header class="fixed top-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 shadow-md transition-colors duration-300">
            <nav class="container mx-auto px-4 py-3 flex items-center justify-between">
                <!-- Logo -->
                <a href="#" class="flex items-center space-x-2">
                    <i class="fas fa-magic text-2xl text-blue-600 dark:text-indigo-400"></i>
                    <span class="text-2xl font-bold text-gray-900 dark:text-white orbitron">Spin Tools</span>
                </a>

                <!-- Navigation Links -->
                <div class="hidden md:flex space-x-6">
                    <a href="#" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200">Home</a>
                    <a href="#" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="openToolModal('wheelOfNames')">Tools</a>
                    <a href="#" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="openStaticModal('about')">About</a>
                    <a href="#" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="openStaticModal('privacy')">Privacy</a>
                    <a href="#" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="openStaticModal('terms')">Terms</a>
                </div>

                <!-- Right Side - Theme Toggle & Share -->
                <div class="flex items-center space-x-4">
                    <!-- Theme Toggle -->
                    <button id="theme-toggle" class="p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-indigo-300 transition-all duration-300">
                        <i id="theme-icon" class="fas fa-sun text-xl text-yellow-500 dark:text-gray-300"></i>
                    </button>
                    <!-- Share Button -->
                    <button id="share-button" class="p-2 rounded-full bg-blue-500 hover:bg-blue-600 dark:bg-indigo-600 dark:hover:bg-indigo-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200">
                        <i class="fas fa-share-alt"></i>
                    </button>
                    <!-- Mobile Menu Button (Hamburger) -->
                    <button class="md:hidden p-2 text-gray-700 dark:text-gray-300 focus:outline-none" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </nav>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-gray-800 pb-4">
                <div class="flex flex-col items-center space-y-2">
                    <a href="#" class="block py-2 text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="toggleMobileMenu()">Home</a>
                    <a href="#" class="block py-2 text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="openToolModal('wheelOfNames'); toggleMobileMenu()">Tools</a>
                    <a href="#" class="block py-2 text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="openStaticModal('about'); toggleMobileMenu()">About</a>
                    <a href="#" class="block py-2 text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="openStaticModal('privacy'); toggleMobileMenu()">Privacy</a>
                    <a href="#" class="block py-2 text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors duration-200" onclick="openStaticModal('terms'); toggleMobileMenu()">Terms</a>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="relative flex-grow min-h-[500px] flex items-center justify-center overflow-hidden dark:bg-gray-900 bg-gradient-to-br from-blue-50 to-blue-200 dark:from-gray-800 dark:to-gray-900">
            <!-- Canvas for particles -->
            <canvas id="particle-canvas" class="absolute inset-0 w-full h-full z-0"></canvas>

            <div class="container mx-auto px-4 py-16 text-center z-10 relative">
                <div class="absolute inset-0 flex items-center justify-between opacity-20 md:opacity-40">
                    <!-- Left rotating SVG wheel -->
                    <svg class="h-64 w-64 md:h-96 md:w-96 animate-spin-slow text-blue-400 dark:text-indigo-500" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="50" cy="50" r="45"/>
                        <line x1="50" y1="5" x2="50" y2="95"/>
                        <line x1="5" y1="50" x2="95" y2="50"/>
                        <path d="M50 5 A45 45 0 0 1 95 50" stroke-linecap="round"/>
                        <path d="M95 50 A45 45 0 0 1 50 95" stroke-linecap="round"/>
                    </svg>
                    <!-- Right rotating SVG wheel -->
                    <svg class="h-64 w-64 md:h-96 md:w-96 animate-spin-reverse-slow text-blue-400 dark:text-indigo-500" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="50" cy="50" r="45"/>
                        <line x1="50" y1="5" x2="50" y2="95"/>
                        <line x1="5" y1="50" x2="95" y2="50"/>
                        <path d="M50 5 A45 45 0 0 0 5 50" stroke-linecap="round"/>
                        <path d="M5 50 A45 45 0 0 0 50 95" stroke-linecap="round"/>
                    </svg>
                </div>

                <h1 class="text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-4 neon-glow orbitron relative z-10">Spin Wheel Tools</h1>
                <p class="text-lg md:text-xl text-gray-700 dark:text-gray-200 max-w-2xl mx-auto mb-8 relative z-10">A complete collection for all your random selection needs. Create, customize, share, and spin your own wheels.</p>
                <button class="bg-blue-600 hover:bg-blue-700 dark:bg-indigo-600 dark:hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 relative z-10" onclick="openToolModal('wheelOfNames')">
                    Get Started <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </section>

        <!-- Embedded Tool Section - Wheel of Names (Basic) -->
        <section class="py-16 bg-gray-50 dark:bg-gray-800 transition-colors duration-300">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 orbitron text-gray-900 dark:text-white neon-glow">Try Our Wheel of Names</h2>
                <div class="max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 glass-card">
                    <div class="flex flex-col md:flex-row items-center md:items-start justify-center gap-8">
                        <!-- Wheel Area -->
                        <div class="relative w-full md:w-1/2 flex justify-center items-center">
                            <canvas id="homepage-wheel-canvas" width="400" height="400" class="rounded-full shadow-lg dark:shadow-xl border-4 border-blue-200 dark:border-indigo-500"></canvas>
                            <button id="homepage-spin-btn" class="absolute bottom-4 bg-blue-600 hover:bg-blue-700 dark:bg-indigo-600 dark:hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-all duration-300 hover:scale-105">
                                Spin!
                            </button>
                            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 rounded-full bg-red-500 pointer-events-none z-20"></div>
                            <i class="fas fa-caret-down absolute -top-4 left-1/2 -translate-x-1/2 text-4xl text-red-500 dark:text-red-400"></i>
                        </div>

                        <!-- Settings Panel -->
                        <div class="w-full md:w-1/2 space-y-4">
                            <h3 class="text-2xl font-semibold mb-4 orbitron text-gray-900 dark:text-white">Entries</h3>
                            <textarea id="homepage-entries-textarea" class="w-full p-3 h-40 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 resize-y custom-scrollbar" placeholder="Enter names, one per line"></textarea>
                            <div class="flex space-x-2">
                                <button class="flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md transition-colors" onclick="addHomepageEntries()">Add Names</button>
                                <button class="flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-md transition-colors" onclick="clearHomepageEntries()">Clear</button>
                                <button class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-4 rounded-md transition-colors" onclick="shuffleHomepageEntries()">Shuffle</button>
                            </div>
                            <div class="mt-4">
                                <h3 class="text-xl font-semibold mb-2 orbitron text-gray-900 dark:text-white">Customization</h3>
                                <div class="flex items-center space-x-2">
                                    <label for="homepage-segment-colors" class="text-gray-700 dark:text-gray-300">Segment Colors:</label>
                                    <input type="text" id="homepage-segment-colors" class="flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white" value="#FF6B6B,#4ECDC4,#47a9ef,#ffe66d,#bada55,#91c8eb">
                                    <button class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-md transition-colors" onclick="updateHomepageColors()">Apply</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tools Gallery -->
        <section class="py-16 bg-white dark:bg-gray-900 transition-colors duration-300">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 orbitron text-gray-900 dark:text-white neon-glow">Explore Our Tools</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center">

                    <!-- Wheel of Names Card -->
                    <div class="flip-card cursor-pointer" onclick="openToolModal('wheelOfNames')">
                        <div class="flip-card-inner glass-card">
                            <div class="flip-card-front flex-col">
                                <i class="fas fa-users text-5xl text-blue-500 dark:text-indigo-400 mb-4"></i>
                                <h3 class="text-xl font-semibold orbitron">Wheel of Names</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">Pick a random winner from your list!</p>
                            </div>
                            <div class="flip-card-back bg-gradient-to-br from-blue-500 to-purple-600 dark:from-indigo-600 dark:to-violet-700 p-4">
                                <h3 class="text-xl font-semibold orbitron mb-2">Wheel of Names</h3>
                                <p class="text-sm">Enter participants, spin, and let the wheel decide.</p>
                                <button class="mt-4 bg-white text-blue-600 dark:text-indigo-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">Launch Tool</button>
                            </div>
                        </div>
                    </div>

                    <!-- Picker Wheel Card -->
                    <div class="flip-card cursor-pointer" onclick="openToolModal('pickerWheel')">
                        <div class="flip-card-inner glass-card">
                            <div class="flip-card-front flex-col">
                                <i class="fas fa-dice text-5xl text-green-500 dark:text-emerald-400 mb-4"></i>
                                <h3 class="text-xl font-semibold orbitron">Picker Wheel</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">A general-purpose decision maker.</p>
                            </div>
                            <div class="flip-card-back bg-gradient-to-br from-green-500 to-teal-600 dark:from-emerald-600 dark:to-cyan-700 p-4">
                                <h3 class="text-xl font-semibold orbitron mb-2">Picker Wheel</h3>
                                <p class="text-sm">Create custom options for any random choice.</p>
                                <button class="mt-4 bg-white text-green-600 dark:text-emerald-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">Launch Tool</button>
                            </div>
                        </div>
                    </div>

                    <!-- Spin the Wheel Card -->
                    <div class="flip-card cursor-pointer" onclick="openToolModal('spinTheWheel')">
                        <div class="flip-card-inner glass-card">
                            <div class="flip-card-front flex-col">
                                <i class="fas fa-dollar-sign text-5xl text-purple-500 dark:text-fuchsia-400 mb-4"></i>
                                <h3 class="text-xl font-semibold orbitron">Spin the Wheel</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">For giveaways, games, or prize selection.</p>
                            </div>
                            <div class="flip-card-back bg-gradient-to-br from-purple-500 to-pink-600 dark:from-fuchsia-600 dark:to-rose-700 p-4">
                                <h3 class="text-xl font-semibold orbitron mb-2">Spin the Wheel</h3>
                                <p class="text-sm">Engage your audience with an interactive spinner.</p>
                                <button class="mt-4 bg-white text-purple-600 dark:text-fuchsia-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">Launch Tool</button>
                            </div>
                        </div>
                    </div>

                    <!-- Names on Wheel Card -->
                    <div class="flip-card cursor-pointer" onclick="openToolModal('namesOnWheel')">
                        <div class="flip-card-inner glass-card">
                            <div class="flip-card-front flex-col">
                                <i class="fas fa-users-cog text-5xl text-red-500 dark:text-rose-400 mb-4"></i>
                                <h3 class="text-xl font-semibold orbitron">Names on Wheel</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">Flexible wheel for any group or list.</p>
                            </div>
                            <div class="flip-card-back bg-gradient-to-br from-red-500 to-orange-600 dark:from-rose-600 dark:to-amber-700 p-4">
                                <h3 class="text-xl font-semibold orbitron mb-2">Names on Wheel</h3>
                                <p class="text-sm">Manage large lists and easily select an item.</p>
                                <button class="mt-4 bg-white text-red-600 dark:text-rose-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">Launch Tool</button>
                            </div>
                        </div>
                    </div>

                    <!-- Custom Wheel Card (Placeholder) -->
                    <div class="flip-card cursor-pointer" onclick="openToolModal('customWheel')">
                        <div class="flip-card-inner glass-card">
                            <div class="flip-card-front flex-col">
                                <i class="fas fa-cogs text-5xl text-yellow-500 dark:text-amber-400 mb-4"></i>
                                <h3 class="text-xl font-semibold orbitron">Custom Wheel</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">Build your own wheel from scratch.</p>
                            </div>
                            <div class="flip-card-back bg-gradient-to-br from-yellow-500 to-lime-600 dark:from-amber-600 dark:to-lime-700 p-4">
                                <h3 class="text-xl font-semibold orbitron mb-2">Custom Wheel</h3>
                                <p class="text-sm">Full control over entries, colors, and design.</p>
                                <button class="mt-4 bg-white text-yellow-600 dark:text-amber-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">Launch Tool</button>
                            </div>
                        </div>
                    </div>

                    <!-- Blank Card (Placeholder) -->
                    <div class="flip-card cursor-pointer" onclick="alert('Coming Soon!')">
                        <div class="flip-card-inner glass-card">
                            <div class="flip-card-front flex-col">
                                <i class="fas fa-plus-circle text-5xl text-gray-400 dark:text-gray-500 mb-4"></i>
                                <h3 class="text-xl font-semibold orbitron">More Tools</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">Exciting new tools on the way!</p>
                            </div>
                            <div class="flip-card-back bg-gradient-to-br from-gray-400 to-gray-500 dark:from-gray-600 dark:to-gray-700 p-4">
                                <h3 class="text-xl font-semibold orbitron mb-2">Stay Tuned!</h3>
                                <p class="text-sm">We're constantly adding new features.</p>
                                <button class="mt-4 bg-white text-gray-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">Coming Soon</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-800 dark:bg-gray-950 text-gray-300 py-12 transition-colors duration-300">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <!-- Column 1: Logo and About -->
                    <div>
                        <a href="#" class="flex items-center space-x-2 mb-4">
                            <i class="fas fa-magic text-3xl text-blue-500 dark:text-indigo-400"></i>
                            <span class="text-3xl font-bold orbitron text-white">Spin Tools</span>
                        </a>
                        <p class="text-sm">Your ultimate destination for all random selection needs. Create, customize, and spin with ease.</p>
                    </div>

                    <!-- Column 2: Tool List -->
                    <div>
                        <h4 class="text-xl font-semibold mb-4 text-white orbitron">Tools</h4>
                        <ul class="space-y-2">
                            <li><a href="#" class="hover:text-blue-400 transition-colors" onclick="openToolModal('wheelOfNames')">Wheel of Names</a></li>
                            <li><a href="#" class="hover:text-blue-400 transition-colors" onclick="openToolModal('pickerWheel')">Picker Wheel</a></li>
                            <li><a href="#" class="hover:text-blue-400 transition-colors" onclick="openToolModal('spinTheWheel')">Spin the Wheel</a></li>
                            <li><a href="#" class="hover:text-blue-400 transition-colors" onclick="openToolModal('namesOnWheel')">Names on Wheel</a></li>
                            <li><a href="#" class="hover:text-blue-400 transition-colors" onclick="openToolModal('customWheel')">Custom Wheel</a></li>
                        </ul>
                    </div>

                    <!-- Column 3: Company Info -->
                    <div>
                        <h4 class="text-xl font-semibold mb-4 text-white orbitron">Company</h4>
                        <ul class="space-y-2">
                            <li><a href="#" class="hover:text-blue-400 transition-colors" onclick="openStaticModal('about')">About Us</a></li>
                            <li><a href="#" class="hover:text-blue-400 transition-colors" onclick="openStaticModal('privacy')">Privacy Policy</a></li>
                            <li><a href="#" class="hover:text-blue-400 transition-colors" onclick="openStaticModal('terms')">Terms of Service</a></li>
                            <li><a href="#" class="hover:text-blue-400 transition-colors">Contact</a></li>
                        </ul>
                    </div>

                    <!-- Column 4: Social Links -->
                    <div>
                        <h4 class="text-xl font-semibold mb-4 text-white orbitron">Connect</h4>
                        <div class="flex space-x-4 text-2xl">
                            <a href="#" class="hover:text-blue-400 transition-colors"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="hover:text-blue-400 transition-colors"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="hover:text-blue-400 transition-colors"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="hover:text-blue-400 transition-colors"><i class="fab fa-github"></i></a>
                        </div>
                    </div>
                </div>

                <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm">
                    <p>&copy; 2024 Spin Tools. All Rights Reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Tool Modal (Fullscreen) -->
    <div id="tool-modal" class="fixed inset-0 z-[100] bg-gray-900 bg-opacity-90 hidden flex items-center justify-center p-4">
        <div class="relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-5xl h-full max-h-[90vh] flex flex-col md:flex-row overflow-hidden glass-card">
            <!-- Close Button -->
            <button class="absolute top-4 right-4 text-gray-700 dark:text-gray-300 hover:text-red-500 text-3xl z-50" onclick="closeToolModal()">
                <i class="fas fa-times-circle"></i>
            </button>

            <!-- Wheel Area -->
            <div class="flex-1 flex flex-col items-center justify-center p-4 relative overflow-hidden">
                <h3 id="tool-modal-title" class="text-3xl font-bold orbitron text-gray-900 dark:text-white mb-6 neon-glow">Tool Title</h3>
                <div class="relative w-full max-w-md h-full max-h-md flex justify-center items-center">
                    <canvas id="modal-wheel-canvas" width="400" height="400" class="rounded-full shadow-lg dark:shadow-xl border-4 border-blue-200 dark:border-indigo-500"></canvas>
                    <button id="modal-spin-btn" class="absolute bottom-4 bg-blue-600 hover:bg-blue-700 dark:bg-indigo-600 dark:hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-all duration-300 hover:scale-105">
                        Spin!
                    </button>
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 rounded-full bg-red-500 pointer-events-none z-20"></div>
                    <i class="fas fa-caret-down absolute -top-4 left-1/2 -translate-x-1/2 text-4xl text-red-500 dark:text-red-400"></i>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="w-full md:w-1/3 p-6 bg-gray-50 dark:bg-gray-900 border-t md:border-t-0 md:border-l border-gray-200 dark:border-gray-700 flex flex-col overflow-y-auto custom-scrollbar">
                <div class="tabs mb-4 flex justify-around border-b border-gray-300 dark:border-gray-700">
                    <button class="tab-button flex-1 py-3 text-lg font-semibold text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-indigo-400 border-b-2 border-transparent tab-active" onclick="showTab('entries-tab-content', this)">Entries</button>
                    <button class="tab-button flex-1 py-3 text-lg font-semibold text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-indigo-400 border-b-2 border-transparent" onclick="showTab('customize-tab-content', this)">Customize</button>
                    <button class="tab-button flex-1 py-3 text-lg font-semibold text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-indigo-400 border-b-2 border-transparent" onclick="showTab('settings-tab-content', this)">Settings</button>
                </div>

                <!-- Tab Content: Entries -->
                <div id="entries-tab-content" class="tab-content flex-grow space-y-4">
                    <h4 class="text-xl font-semibold orbitron text-gray-900 dark:text-white">Wheel Entries</h4>
                    <textarea id="modal-entries-textarea" class="w-full p-3 h-40 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 resize-y custom-scrollbar" placeholder="Enter names, one per line"></textarea>
                    <div class="flex flex-wrap gap-2">
                        <button class="flex-1 min-w-[100px] bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md transition-colors" onclick="addModalEntries()">Add Names</button>
                        <button class="flex-1 min-w-[100px] bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-md transition-colors" onclick="clearModalEntries()">Clear</button>
                        <button class="flex-1 min-w-[100px] bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-4 rounded-md transition-colors" onclick="shuffleModalEntries()">Shuffle</button>
                        <button class="flex-1 min-w-[100px] bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md transition-colors" onclick="removeDuplicatesModalEntries()">Remove Duplicates</button>
                    </div>
                </div>

                <!-- Tab Content: Customize -->
                <div id="customize-tab-content" class="tab-content hidden flex-grow space-y-4">
                    <h4 class="text-xl font-semibold orbitron text-gray-900 dark:text-white">Customize Wheel</h4>
                    <div>
                        <label for="modal-segment-colors" class="block text-gray-700 dark:text-gray-300 mb-2">Segment Colors (comma-separated hex codes):</label>
                        <input type="text" id="modal-segment-colors" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500" value="#FF6B6B,#4ECDC4,#47a9ef,#ffe66d,#bada55,#91c8eb">
                        <button class="mt-2 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md transition-colors" onclick="updateModalColors()">Apply Colors</button>
                    </div>
                    <div>
                        <label for="modal-center-image" class="block text-gray-700 dark:text-gray-300 mb-2">Center Image URL (optional):</label>
                        <input type="text" id="modal-center-image" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., https://example.com/logo.png">
                        <button class="mt-2 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md transition-colors" onclick="updateModalCenterImage()">Apply Image</button>
                    </div>
                </div>

                <!-- Tab Content: Settings -->
                <div id="settings-tab-content" class="tab-content hidden flex-grow space-y-4">
                    <h4 class="text-xl font-semibold orbitron text-gray-900 dark:text-white">Wheel Settings</h4>
                    <div>
                        <label for="spin-duration" class="block text-gray-700 dark:text-gray-300 mb-2">Spin Duration (seconds): <span id="spin-duration-value">5</span>s</label>
                        <input type="range" id="spin-duration" min="2" max="30" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                    </div>
                    <div>
                        <label for="volume-control" class="block text-gray-700 dark:text-gray-300 mb-2">Volume: <span id="volume-value">100</span>%</label>
                        <input type="range" id="volume-control" min="0" max="100" value="100" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                    </div>
                    <div class="flex items-center space-x-2">
                        <input type="checkbox" id="confetti-toggle" class="form-checkbox h-5 w-5 text-blue-600 rounded dark:bg-gray-700 dark:border-gray-600">
                        <label for="confetti-toggle" class="text-gray-700 dark:text-gray-300">Enable Confetti</label>
                    </div>
                    <div class="flex items-center space-x-2">
                        <input type="checkbox" id="applause-toggle" class="form-checkbox h-5 w-5 text-blue-600 rounded dark:bg-gray-700 dark:border-gray-600">
                        <label for="applause-toggle" class="text-gray-700 dark:text-gray-300">Enable Applause Sound</label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Winner Modal -->
    <div id="winner-modal" class="fixed inset-0 z-[110] bg-gray-900 bg-opacity-90 hidden flex items-center justify-center p-4">
        <canvas id="confetti-canvas" class="absolute inset-0 w-full h-full pointer-events-none"></canvas>
        <div class="relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 text-center glass-card transform scale-0 opacity-0 transition-all duration-300 ease-out" id="winner-modal-content">
            <button class="absolute top-4 right-4 text-gray-700 dark:text-gray-300 hover:text-red-500 text-3xl" onclick="closeWinnerModal()">
                <i class="fas fa-times-circle"></i>
            </button>
            <i class="fas fa-trophy text-6xl text-yellow-500 dark:text-yellow-400 mb-6 animate-bounce"></i>
            <h3 class="text-4xl font-bold orbitron text-gray-900 dark:text-white mb-4 neon-glow">Congratulations!</h3>
            <p class="text-2xl text-gray-700 dark:text-gray-200 mb-6">The winner is:</p>
            <p id="winner-name" class="text-5xl font-extrabold text-blue-600 dark:text-indigo-400 mb-8 neon-glow"></p>
            <button class="bg-blue-600 hover:bg-blue-700 dark:bg-indigo-600 dark:hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105" onclick="closeWinnerModal()">
                Spin Again
            </button>
        </div>
    </div>

    <!-- Static Content Modal (About, Privacy, Terms) -->
    <div id="static-modal" class="fixed inset-0 z-[100] bg-gray-900 bg-opacity-90 hidden flex items-center justify-center p-4">
        <div class="relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl h-full max-h-[90vh] p-8 overflow-y-auto glass-card custom-scrollbar">
            <button class="absolute top-4 right-4 text-gray-700 dark:text-gray-300 hover:text-red-500 text-3xl" onclick="closeStaticModal()">
                <i class="fas fa-times-circle"></i>
            </button>
            <h3 id="static-modal-title" class="text-3xl font-bold orbitron text-gray-900 dark:text-white mb-6 neon-glow"></h3>
            <div id="static-modal-content" class="prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-200">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>

    <script>
        // Global State
        let currentTheme = localStorage.getItem('theme') || 'light';
        let currentWheelData = {
            entries: ['Alice', 'Bob', 'Charlie', 'Diana', 'Eve'],
            colors: ['#FF6B6B', '#4ECDC4', '#47a9ef', '#ffe66d', '#bada55', '#91c8eb'],
            centerImage: '',
            spinDuration: parseInt(localStorage.getItem('spinDuration')) || 5,
            volume: parseFloat(localStorage.getItem('volume')) || 1,
            confettiEnabled: (localStorage.getItem('confettiEnabled') === 'true'),
            applauseEnabled: (localStorage.getItem('applauseEnabled') === 'true')
        };
        let spinning = false;
        let homepageWheel = null; // To store the homepage wheel instance
        let modalWheel = null; // To store the modal wheel instance

        // Audio Elements
        const tickSound = new Audio('[YOUR_TICK_SOUND_URL]'); // Replace with actual URL
        const applauseSound = new Audio('[YOUR_APPLAUSE_SOUND_URL]'); // Replace with actual URL

        // --- Utility Functions ---
        function saveSettings() {
            localStorage.setItem('spinDuration', currentWheelData.spinDuration);
            localStorage.setItem('volume', currentWheelData.volume);
            localStorage.setItem('confettiEnabled', currentWheelData.confettiEnabled);
            localStorage.setItem('applauseEnabled', currentWheelData.applauseEnabled);
            tickSound.volume = currentWheelData.volume;
            applauseSound.volume = currentWheelData.volume;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- Theme Toggle ---
        function applyTheme(theme) {
            document.body.classList.remove('light', 'dark');
            document.body.classList.add(theme);
            const themeIcon = document.getElementById('theme-icon');
            if (theme === 'dark') {
                themeIcon.classList.remove('fa-sun', 'text-yellow-500');
                themeIcon.classList.add('fa-moon', 'text-gray-300');
            } else {
                themeIcon.classList.remove('fa-moon', 'text-gray-300');
                themeIcon.classList.add('fa-sun', 'text-yellow-500');
            }
            localStorage.setItem('theme', theme);
            currentTheme = theme;
        }

        document.getElementById('theme-toggle').addEventListener('click', () => {
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            applyTheme(newTheme);
        });

        // Initial theme application
        document.addEventListener('DOMContentLoaded', () => {
            applyTheme(currentTheme);
            saveSettings(); // Apply initial sound settings
        });

        // --- Preloader ---
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            preloader.classList.add('preloader-hidden');
            setTimeout(() => {
                preloader.remove();
                document.getElementById('main-content').style.opacity = 1;
            }, 500); // Allow fade-out to complete
        });

        // --- Mobile Menu Toggle ---
        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        // --- Canvas Particle Animation for Hero Section ---
        const particleCanvas = document.getElementById('particle-canvas');
        const particleCtx = particleCanvas.getContext('2d');
        let particles = [];
        const numParticles = 80;

        function resizeParticleCanvas() {
            particleCanvas.width = window.innerWidth;
            particleCanvas.height = particleCanvas.offsetHeight; // Use offsetHeight to match hero section
            // Re-initialize particles on resize
            particles = [];
            for (let i = 0; i < numParticles; i++) {
                particles.push(new Particle());
            }
        }

        window.addEventListener('resize', resizeParticleCanvas);
        document.addEventListener('DOMContentLoaded', resizeParticleCanvas); // Initial resize

        class Particle {
            constructor() {
                this.x = Math.random() * particleCanvas.width;
                this.y = Math.random() * particleCanvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 0.5 - 0.25;
                this.speedY = Math.random() * 0.5 - 0.25;
                this.color = `rgba(255, 255, 255, ${Math.random() * 0.5 + 0.2})`; // Semi-transparent white
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.size > 0.2) this.size -= 0.01; // Fade out slowly

                if (this.x < 0 || this.x > particleCanvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > particleCanvas.height) this.speedY *= -1;
            }
            draw() {
                particleCtx.fillStyle = this.color;
                particleCtx.beginPath();
                particleCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                particleCtx.fill();
            }
        }

        function animateParticles() {
            particleCtx.clearRect(0, 0, particleCanvas.width, particleCanvas.height);
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
                // If a particle gets too small, replace it
                if (particles[i].size <= 0.2) {
                    particles[i] = new Particle();
                }
            }
            requestAnimationFrame(animateParticles);
        }
        animateParticles();


        // --- Wheel Drawing and Spinning Logic (Shared for Homepage & Modals) ---
        class SpinWheel {
            constructor(canvasId, entries, colors, centerImage = '') {
                this.canvas = document.getElementById(canvasId);
                this.ctx = this.canvas.getContext('2d');
                this.entries = entries;
                this.colors = colors;
                this.centerImage = centerImage;
                this.angle = 0;
                this.spinTime = 0;
                this.spinTimeTotal = 0;
                this.spinSpeed = 0;
                this.isSpinning = false;
                this.onSpinEndCallback = null;
                this.draw();
            }

            setEntries(newEntries) {
                this.entries = newEntries.filter(e => e.trim() !== ''); // Filter out empty entries
                this.draw();
            }

            setColors(newColors) {
                this.colors = newColors;
                this.draw();
            }

            setCenterImage(imageUrl) {
                this.centerImage = imageUrl;
                this.draw();
            }

            draw() {
                const ctx = this.ctx;
                const canvas = this.canvas;
                const arc = Math.PI / (this.entries.length / 2);
                const outsideRadius = canvas.width / 2 - 20;
                const textRadius = outsideRadius * 0.8;
                const center = canvas.width / 2;

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                if (this.entries.length === 0) {
                    ctx.fillStyle = currentTheme === 'dark' ? '#374151' : '#e5e7eb';
                    ctx.beginPath();
                    ctx.arc(center, center, outsideRadius, 0, Math.PI * 2, false);
                    ctx.fill();

                    ctx.fillStyle = currentTheme === 'dark' ? '#9ca3af' : '#6b7280';
                    ctx.font = '20px Orbitron';
                    ctx.textAlign = 'center';
                    ctx.fillText('Add Entries', center, center);
                    return;
                }

                for (let i = 0; i < this.entries.length; i++) {
                    const angle = this.angle + i * arc;
                    ctx.fillStyle = this.colors[i % this.colors.length];

                    ctx.beginPath();
                    ctx.arc(center, center, outsideRadius, angle, angle + arc, false);
                    ctx.arc(center, center, 0, angle + arc, angle, true);
                    ctx.fill();

                    ctx.save();
                    ctx.translate(center + Math.cos(angle + arc / 2) * textRadius,
                                   center + Math.sin(angle + arc / 2) * textRadius);
                    ctx.rotate(angle + arc / 2 + Math.PI / 2); // Adjust text orientation

                    ctx.fillStyle = (currentTheme === 'dark') ? '#1f2937' : 'white'; // Text color for segment
                    ctx.font = '16px Inter';
                    ctx.textAlign = 'center';
                    ctx.fillText(this.entries[i], 0, 0); // Draw text at origin of rotated context
                    ctx.restore();
                }

                // Draw center circle (for image or pointer)
                ctx.beginPath();
                ctx.arc(center, center, 30, 0, Math.PI * 2, false);
                ctx.fillStyle = currentTheme === 'dark' ? '#2d3748' : '#ffffff';
                ctx.fill();
                ctx.lineWidth = 2;
                ctx.strokeStyle = currentTheme === 'dark' ? '#4a5568' : '#cbd5e0';
                ctx.stroke();

                // Draw center image if provided
                if (this.centerImage) {
                    const img = new Image();
                    img.src = this.centerImage;
                    img.onload = () => {
                        const imgSize = 50; // Smaller than the center circle
                        ctx.save();
                        ctx.beginPath();
                        ctx.arc(center, center, imgSize / 2, 0, Math.PI * 2, true);
                        ctx.clip();
                        ctx.drawImage(img, center - imgSize / 2, center - imgSize / 2, imgSize, imgSize);
                        ctx.restore();
                    };
                    img.onerror = () => {
                        console.warn("Could not load center image:", this.centerImage);
                    };
                }
            }

            spin(duration, onEnd) {
                if (this.isSpinning || this.entries.length === 0) return;

                this.onSpinEndCallback = onEnd;
                this.spinTimeTotal = duration * 1000; // Convert to milliseconds
                this.spinTime = 0;
                this.isSpinning = true;
                this.spinSpeed = Math.random() * 0.1 + 0.1; // Random initial speed

                const startAngle = this.angle;
                const randomEndAngle = Math.random() * 2 * Math.PI; // Spin to a random final position
                const totalRevolutions = 5 + Math.random() * 5; // 5 to 10 extra revolutions
                const finalAngle = startAngle + (2 * Math.PI * totalRevolutions) + randomEndAngle;

                const animate = (timestamp) => {
                    if (!this.startTime) this.startTime = timestamp;
                    const elapsed = timestamp - this.startTime;

                    if (elapsed < this.spinTimeTotal) {
                        const progress = elapsed / this.spinTimeTotal;
                        // Ease out cubic function for deceleration
                        const easing = 1 - Math.pow(1 - progress, 3);
                        this.angle = startAngle + (finalAngle - startAngle) * easing;

                        this.draw();
                        if (currentWheelData.volume > 0) {
                            tickSound.play().catch(e => console.log("Tick sound playback prevented:", e));
                        }
                        requestAnimationFrame(animate);
                    } else {
                        this.angle = finalAngle % (2 * Math.PI); // Normalize angle
                        this.draw();
                        this.isSpinning = false;
                        this.startTime = null;
                        this.determineWinner();
                        this.onSpinEndCallback && this.onSpinEndCallback();
                    }
                };
                requestAnimationFrame(animate);
            }

            determineWinner() {
                const arc = Math.PI / (this.entries.length / 2);
                const currentAngleNormalized = (this.angle + Math.PI / 2) % (2 * Math.PI); // Adjust for pointer at top
                let winnerIndex = Math.floor(this.entries.length - (currentAngleNormalized / arc));
                if (winnerIndex >= this.entries.length) winnerIndex -= this.entries.length;
                if (winnerIndex < 0) winnerIndex += this.entries.length;

                return this.entries[winnerIndex];
            }
        }

        // --- Homepage Wheel Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            homepageWheel = new SpinWheel('homepage-wheel-canvas', currentWheelData.entries, currentWheelData.colors);

            document.getElementById('homepage-spin-btn').addEventListener('click', () => {
                homepageWheel.spin(currentWheelData.spinDuration, () => {
                    const winner = homepageWheel.determineWinner();
                    openWinnerModal(winner);
                    // Optionally remove winner from homepage wheel if desired
                    // currentWheelData.entries = currentWheelData.entries.filter(e => e !== winner);
                    // homepageWheel.setEntries(currentWheelData.entries);
                });
            });

            // Initial population of textarea for homepage
            document.getElementById('homepage-entries-textarea').value = currentWheelData.entries.join('\n');
            document.getElementById('homepage-segment-colors').value = currentWheelData.colors.join(',');
        });

        function addHomepageEntries() {
            const textarea = document.getElementById('homepage-entries-textarea');
            const newEntries = textarea.value.split('\n').map(e => e.trim()).filter(e => e !== '');
            currentWheelData.entries = newEntries;
            homepageWheel.setEntries(currentWheelData.entries);
        }

        function clearHomepageEntries() {
            document.getElementById('homepage-entries-textarea').value = '';
            currentWheelData.entries = [];
            homepageWheel.setEntries(currentWheelData.entries);
        }

        function shuffleHomepageEntries() {
            currentWheelData.entries = shuffleArray([...currentWheelData.entries]); // Shuffle a copy
            document.getElementById('homepage-entries-textarea').value = currentWheelData.entries.join('\n');
            homepageWheel.setEntries(currentWheelData.entries);
        }

        function updateHomepageColors() {
            const colorsInput = document.getElementById('homepage-segment-colors').value;
            const newColors = colorsInput.split(',').map(c => c.trim()).filter(c => /^#([0-9A-F]{3}){1,2}$/i.test(c));
            if (newColors.length > 0) {
                currentWheelData.colors = newColors;
                homepageWheel.setColors(currentWheelData.colors);
            } else {
                alert('Please enter valid hex color codes (e.g., #FF0000)');
            }
        }

        // --- Tool Modal Logic ---
        const toolModal = document.getElementById('tool-modal');
        const modalSpinBtn = document.getElementById('modal-spin-btn');

        function openToolModal(toolType) {
            // Re-initialize modal wheel with current data or tool-specific defaults
            // For simplicity, we'll use the currentWheelData. For a real app, you'd load tool-specific data.
            modalWheel = new SpinWheel('modal-wheel-canvas', [...currentWheelData.entries], [...currentWheelData.colors], currentWheelData.centerImage);

            document.getElementById('tool-modal-title').textContent = formatToolName(toolType);
            document.getElementById('modal-entries-textarea').value = currentWheelData.entries.join('\n');
            document.getElementById('modal-segment-colors').value = currentWheelData.colors.join(',');
            document.getElementById('modal-center-image').value = currentWheelData.centerImage;

            // Update settings sliders/checkboxes
            document.getElementById('spin-duration').value = currentWheelData.spinDuration;
            document.getElementById('spin-duration-value').textContent = currentWheelData.spinDuration;
            document.getElementById('volume-control').value = currentWheelData.volume * 100;
            document.getElementById('volume-value').textContent = Math.round(currentWheelData.volume * 100);
            document.getElementById('confetti-toggle').checked = currentWheelData.confettiEnabled;
            document.getElementById('applause-toggle').checked = currentWheelData.applauseEnabled;

            toolModal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden'); // Prevent scrolling body when modal is open

            // Ensure first tab is active
            showTab('entries-tab-content', document.querySelector('.tab-button'));
        }

        function closeToolModal() {
            toolModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
            modalWheel = null; // Clear modal wheel instance
        }

        modalSpinBtn.addEventListener('click', () => {
            if (modalWheel) {
                modalWheel.spin(currentWheelData.spinDuration, () => {
                    const winner = modalWheel.determineWinner();
                    openWinnerModal(winner);
                    // Optionally remove winner from modal wheel if desired
                    // currentWheelData.entries = currentWheelData.entries.filter(e => e !== winner);
                    // modalWheel.setEntries(currentWheelData.entries);
                    // document.getElementById('modal-entries-textarea').value = currentWheelData.entries.join('\n');
                });
            }
        });

        function addModalEntries() {
            const textarea = document.getElementById('modal-entries-textarea');
            const newEntries = textarea.value.split('\n').map(e => e.trim()).filter(e => e !== '');
            currentWheelData.entries = newEntries;
            if (modalWheel) modalWheel.setEntries(currentWheelData.entries);
            if (homepageWheel) homepageWheel.setEntries(currentWheelData.entries); // Update homepage too
        }

        function clearModalEntries() {
            document.getElementById('modal-entries-textarea').value = '';
            currentWheelData.entries = [];
            if (modalWheel) modalWheel.setEntries(currentWheelData.entries);
            if (homepageWheel) homepageWheel.setEntries(currentWheelData.entries);
        }

        function shuffleModalEntries() {
            currentWheelData.entries = shuffleArray([...currentWheelData.entries]);
            document.getElementById('modal-entries-textarea').value = currentWheelData.entries.join('\n');
            if (modalWheel) modalWheel.setEntries(currentWheelData.entries);
            if (homepageWheel) homepageWheel.setEntries(currentWheelData.entries);
        }

        function removeDuplicatesModalEntries() {
            currentWheelData.entries = [...new Set(currentWheelData.entries)];
            document.getElementById('modal-entries-textarea').value = currentWheelData.entries.join('\n');
            if (modalWheel) modalWheel.setEntries(currentWheelData.entries);
            if (homepageWheel) homepageWheel.setEntries(currentWheelData.entries);
        }

        function updateModalColors() {
            const colorsInput = document.getElementById('modal-segment-colors').value;
            const newColors = colorsInput.split(',').map(c => c.trim()).filter(c => /^#([0-9A-F]{3}){1,2}$/i.test(c));
            if (newColors.length > 0) {
                currentWheelData.colors = newColors;
                if (modalWheel) modalWheel.setColors(currentWheelData.colors);
                if (homepageWheel) homepageWheel.setColors(currentWheelData.colors);
            } else {
                alert('Please enter valid hex color codes (e.g., #FF0000)');
            }
        }

        function updateModalCenterImage() {
            const imageUrl = document.getElementById('modal-center-image').value;
            currentWheelData.centerImage = imageUrl;
            if (modalWheel) modalWheel.setCenterImage(currentWheelData.centerImage);
            if (homepageWheel) homepageWheel.setCenterImage(currentWheelData.centerImage);
        }


        // Settings controls listeners
        document.getElementById('spin-duration').addEventListener('input', (e) => {
            currentWheelData.spinDuration = parseInt(e.target.value);
            document.getElementById('spin-duration-value').textContent = currentWheelData.spinDuration;
            saveSettings();
        });

        document.getElementById('volume-control').addEventListener('input', (e) => {
            currentWheelData.volume = parseFloat(e.target.value) / 100;
            document.getElementById('volume-value').textContent = Math.round(e.target.value);
            saveSettings();
        });

        document.getElementById('confetti-toggle').addEventListener('change', (e) => {
            currentWheelData.confettiEnabled = e.target.checked;
            saveSettings();
        });

        document.getElementById('applause-toggle').addEventListener('change', (e) => {
            currentWheelData.applauseEnabled = e.target.checked;
            saveSettings();
        });


        function showTab(tabId, button) {
            document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('tab-active', 'border-blue-600', 'dark:border-indigo-400', 'text-blue-600', 'dark:text-indigo-400'));
            document.getElementById(tabId).classList.remove('hidden');
            button.classList.add('tab-active', 'border-blue-600', 'dark:border-indigo-400', 'text-blue-600', 'dark:text-indigo-400');
        }

        function formatToolName(toolType) {
            return toolType.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
        }

        // --- Winner Modal & Confetti ---
        const winnerModal = document.getElementById('winner-modal');
        const winnerModalContent = document.getElementById('winner-modal-content');
        const confettiCanvas = document.getElementById('confetti-canvas');
        const confettiCtx = confettiCanvas.getContext('2d');
        let confettiParticles = [];

        function resizeConfettiCanvas() {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeConfettiCanvas);
        resizeConfettiCanvas(); // Initial resize

        class ConfettiParticle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.size = Math.random() * 8 + 5;
                this.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                this.speedX = Math.random() * 8 - 4;
                this.speedY = Math.random() * -15 - 5;
                this.gravity = 0.5;
                this.rotation = Math.random() * 360;
                this.rotationSpeed = Math.random() * 10 - 5;
                this.opacity = 1;
            }

            update() {
                this.speedY += this.gravity;
                this.x += this.speedX;
                this.y += this.speedY;
                this.rotation += this.rotationSpeed;
                this.opacity -= 0.02; // Fade out
            }

            draw() {
                confettiCtx.save();
                confettiCtx.translate(this.x, this.y);
                confettiCtx.rotate(this.rotation * Math.PI / 180);
                confettiCtx.fillStyle = this.color;
                confettiCtx.globalAlpha = Math.max(0, this.opacity);
                confettiCtx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size);
                confettiCtx.restore();
            }
        }

        function animateConfetti() {
            confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            for (let i = confettiParticles.length - 1; i >= 0; i--) {
                confettiParticles[i].update();
                confettiParticles[i].draw();
                if (confettiParticles[i].opacity <= 0 || confettiParticles[i].y > confettiCanvas.height) {
                    confettiParticles.splice(i, 1);
                }
            }
            if (confettiParticles.length > 0) {
                requestAnimationFrame(animateConfetti);
            }
        }

        function launchConfetti() {
            confettiParticles = []; // Clear previous confetti
            const centerX = confettiCanvas.width / 2;
            const centerY = confettiCanvas.height / 2;
            for (let i = 0; i < 150; i++) { // More confetti
                confettiParticles.push(new ConfettiParticle(centerX, centerY));
            }
            animateConfetti();
        }

        function openWinnerModal(winnerName) {
            document.getElementById('winner-name').textContent = winnerName;
            winnerModal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
            // Animate winner modal content
            setTimeout(() => {
                winnerModalContent.classList.remove('scale-0', 'opacity-0');
                winnerModalContent.classList.add('scale-100', 'opacity-100');
            }, 50);

            if (currentWheelData.confettiEnabled) {
                launchConfetti();
            }
            if (currentWheelData.applauseEnabled && currentWheelData.volume > 0) {
                applauseSound.play().catch(e => console.log("Applause sound playback prevented:", e));
            }
        }

        function closeWinnerModal() {
            winnerModalContent.classList.remove('scale-100', 'opacity-100');
            winnerModalContent.classList.add('scale-0', 'opacity-0');
            setTimeout(() => {
                winnerModal.classList.add('hidden');
                document.body.classList.remove('overflow-hidden');
                confettiParticles = []; // Clear confetti once modal is fully hidden
                confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
                applauseSound.pause(); // Stop applause if still playing
                applauseSound.currentTime = 0;
            }, 300); // Match transition duration
        }

        // --- Static Content Modals (About, Privacy, Terms) ---
        const staticModal = document.getElementById('static-modal');
        const staticModalTitle = document.getElementById('static-modal-title');
        const staticModalContent = document.getElementById('static-modal-content');

        const staticPagesContent = {
            about: `
                <h2 class="text-2xl font-bold mb-4">About Spin Wheel Tools</h2>
                <p class="mb-4">Welcome to Spin Wheel Tools, your ultimate online destination for all your random selection and decision-making needs. We believe that choosing should be fun, fair, and effortless, whether you're picking a winner, making a tough decision, or just adding a touch of randomness to your day.</p>
                <p class="mb-4">Our platform offers a comprehensive collection of customizable spin wheels designed for various purposes. From "Wheel of Names" for drawing winners to "Picker Wheel" for everyday choices, and "Spin the Wheel" for engaging games and promotions – we've got you covered. Each tool is built with a focus on ease of use, engaging design, and robust functionality, ensuring a smooth and enjoyable experience.</p>
                <p class="mb-4">Spin Wheel Tools is proudly built with modern web technologies, ensuring it's fully responsive, works seamlessly across devices, and is completely self-contained. This means you can create, customize, and spin your wheels even offline, without relying on external servers or APIs once the page is loaded.</p>
                <p>We are committed to continuously improving and expanding our collection of tools. Your feedback is invaluable in helping us create the best random selection experience online. Thankp-4 you for choosing Spin Wheel Tools!</p>
            `,
            privacy: `
                <h2 class="text-2xl font-bold mb-4">Privacy Policy</h2>
                <p class="mb-4">At Spin Wheel Tools, your privacy is a top priority. This Privacy Policy outlines how we handle information when you use our website.</p>
                <h3 class="text-xl font-semibold mb-2">1. No Collection of Personal Information:</h3>
                <p class="mb-4">We do not collect any personal identifying information from our users. You can use our tools, create entries, and customize wheels without providing your name, email address, or any other personal data.</p>
                <h3 class="text-xl font-semibold mb-2">2. Local Storage Usage:</h3>
                <p class="mb-4">Our website uses your browser's local storage (localStorage) to save your preferences and wheel data. This includes:</p>
                <ul class="list-disc pl-5 mb-4">
                    <li>Theme preference (light/dark mode)</li>
                    <li>Sound settings (volume, confetti, applause)</li>
                    <li>The entries and customizations for your spin wheels</li>
                </ul>
                <p class="mb-4">This data is stored directly in your browser on your device and is not transmitted to our servers or any third parties. It allows the website to remember your settings and wheel configurations for a better offline experience. You can clear this data at any time through your browser settings.</p>
                <h3 class="text-xl font-semibold mb-2">3. Offline Functionality:</h3>
                <p class="mb-4">Spin Wheel Tools is designed to work completely offline after the initial load. This is possible because all logic and data (saved to localStorage) reside within your browser. No internet connection is required for spinning wheels or accessing your saved data.</p>
                <h3 class="text-xl font-semibold mb-2">4. Third-Party CDNs:</h3>
                <p class="mb-4">We use Content Delivery Networks (CDNs) for external resources like Tailwind CSS, Font Awesome icons, and Google Fonts. These CDNs may have their own privacy policies. However, these are generally static assets and do not involve active data collection from our site.</p>
                <h3 class="text-xl font-semibold mb-2">5. No Tracking or Analytics:</h3>
                <p class="mb-4">We do not employ any tracking scripts, analytics tools, or third-party cookies that would monitor your activity on our site.</p>
                <h3 class="text-xl font-semibold mb-2">6. Changes to this Policy:</h3>
                <p>We may update this Privacy Policy from time to time. We encourage you to review this page periodically for any changes. Your continued use of the website after any modifications will constitute your acknowledgment of the modifications and your consent to abide and be bound by the modified Privacy Policy.</p>
                <p class="mt-4">If you have any questions about this Privacy Policy, please feel free to <a href="#" class="text-blue-600 dark:text-indigo-400 hover:underline">contact us</a>.</p>
            `,
            terms: `
                <h2 class="text-2xl font-bold mb-4">Terms of Service</h2>
                <p class="mb-4">Welcome to Spin Wheel Tools! By accessing and using our website, you agree to comply with and be bound by the following Terms of Service. Please review these terms carefully.</p>
                <h3 class="text-xl font-semibold mb-2">1. Acceptance of Terms:</h3>
                <p class="mb-4">By accessing or using Spin Wheel Tools (the "Service"), you agree to these Terms of Service, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you are prohibited from using or accessing this site.</p>
                <h3 class="text-xl font-semibold mb-2">2. Use License:</h3>
                <ul class="list-disc pl-5 mb-4">
                    <li>Permission is granted to temporarily download one copy of the materials (information or software) on Spin Wheel Tools for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title.</li>
                    <li>This license shall automatically terminate if you violate any of these restrictions and may be terminated by Spin Wheel Tools at any time.</li>
                </ul>
                <h3 class="text-xl font-semibold mb-2">3. Disclaimer:</h3>
                <p class="mb-4">The materials on Spin Wheel Tools are provided on an 'as is' basis. Spin Wheel Tools makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.</p>
                <h3 class="text-xl font-semibold mb-2">4. Limitations:</h3>
                <p class="mb-4">In no event shall Spin Wheel Tools or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Spin Wheel Tools, even if Spin Wheel Tools or a Spin Wheel Tools authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you.</p>
                <h3 class="text-xl font-semibold mb-2">5. Accuracy of Materials:</h3>
                <p class="mb-4">The materials appearing on Spin Wheel Tools could include technical, typographical, or photographic errors. Spin Wheel Tools does not warrant that any of the materials on its website are accurate, complete or current. Spin Wheel Tools may make changes to the materials contained on its website at any time without notice.</p>
                <h3 class="text-xl font-semibold mb-2">6. Modifications:</h3>
                <p class="mb-4">Spin Wheel Tools may revise these Terms of Service for its website at any time without notice. By using this website you are agreeing to be bound by the then current version of these Terms of Service.</p>
                <h3 class="text-xl font-semibold mb-2">7. Governing Law:</h3>
                <p class="mb-4">These terms and conditions are governed by and construed in accordance with the laws of [Your Country/State] and you irrevocably submit to the exclusive jurisdiction of the courts in that State or location.</p>
            `
        };

        function openStaticModal(pageType) {
            staticModalTitle.textContent = formatToolName(pageType);
            staticModalContent.innerHTML = staticPagesContent[pageType] || '<p>Content not found.</p>';
            staticModal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
        }

        function closeStaticModal() {
            staticModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        }

        // --- Web Share API ---
        document.getElementById('share-button').addEventListener('click', async () => {
            if (navigator.share) {
                try {
                    await navigator.share({
                        title: 'Spin Wheel Tools',
                        text: 'Check out this awesome collection of online spin wheel tools!',
                        url: window.location.href, // Shares the current page URL
                    });
                    console.log('Shared successfully!');
                } catch (error) {
                    console.error('Error sharing:', error);
                }
            } else {
                alert('Web Share API is not supported in your browser. You can copy the URL manually.');
                // Fallback for browsers that don't support Web Share API
                // Optional: copy URL to clipboard
                navigator.clipboard.writeText(window.location.href)
                    .then(() => alert('URL copied to clipboard!'))
                    .catch(err => console.error('Failed to copy URL: ', err));
            }
        });
    </script>
</body>
</html>
`